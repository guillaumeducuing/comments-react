@import "@/styles/common/globals.scss";

.section_comments {
  padding: 60px 0px;
  background: $colorGreyscale_6;
  position: relative;
  z-index: 1;
  .wrapper {
    @include styleGrid();
  }
  .container {
    .container_title {
      display: flex;
      justify-content: flex-start;
      border-bottom: 1px solid $color_2;
      margin-bottom: 40px;
      h2 {
        @include styleH("h3");
        margin-bottom: 20px;
      }
    }
    .container_content {
      .container_form {
        form {
          display: flex;
          flex-direction: column;
          @include styleResponsive("desktop") {
            width: 500px;
          }
          width: 100%;
          gap: 10px;
          .container_infos {
            display: flex;
            align-items: center;
            gap: 10px;
            img {
              width: 40px;
              height: 40px;
              border-radius: 50%;
            }
            h3 {
              @include styleH("h5");
            }
            .logout {
              svg {
                width: 20px;
                height: 20px;
                fill: none;
                path {
                  stroke: $color_2;
                  stroke-width: 2;
                  stroke-linecap: round;
                  stroke-linejoin: round;
                }
              }
              @include styleHover {
                cursor: pointer;
              }
            }
          }
          textarea {
            border-radius: 8px;
            border: 1px solid $color_2;
            height: 100px;
            font-family: $font_regular;
            resize: none;
            outline: none;
            padding: 10px;
          }
          .container_btns {
            display: flex;
            justify-content: space-between;
            gap: 8px;
            button {
              flex: 1;
            }
          }
          .container_bottom {
            .caracter {
              display: flex;
              justify-content: flex-end;
              margin-top: -5px;
              margin-bottom: 5px;
              @include styleP("tiny", $color: $color_2);
            }
            position: relative;
            button {
              border-radius: 8px;
              border: 1px solid $color_2;
              background: $color_2;
              color: $color_1;
              font-family: $font_bold;
              padding: 10px 15px;
              @include styleHover {
                cursor: pointer;
                background: $color_1;
                color: $color_2;
                transition: all 0.2s ease;
              }
            }
            .error {
              display: block;
              margin-top: 10px;
              @include styleP("small", $color: $colorError);
            }
          }
          &.editing {
            textarea {
              background-color: $colorGreyscale_5;
            }
          }
        }
        .container_connexion {
          .title {
            h3 {
              @include styleH("h4");
            }
          }
          .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            border: 1px solid $color_3;
            padding: 20px;
            border-radius: 6px;
            transition: background 0.2s ease;
            max-width: 400px;

            h4 {
              @include styleA("big");
            }
            &:hover {
              cursor: pointer;
              background: rgba($color: $color_3, $alpha: 0.05);
            }
          }
        }
      }
      .container_comment {
        // display: flex;
        // flex-direction: column;
        // gap: 20px;
        .content {
          //   position: relative;
          //   display: flex;
          //   flex-direction: column;
          //   border: 1px solid transparent;
          //   background: rgba($color: $color_2, $alpha: 0.1);
          //   border-radius: 10px;
          //   padding: 15px 20px;
          @include styleResponsive("desktop") {
            width: 500px;
          }
          width: 100%;
          gap: 10px;
          animation: appear 0.3s cubic-bezier(0.445, 0.25, 0.55, 0.95);
          animation-fill-mode: forwards;
          opacity: 0;
          background: $colorGreyscale_5;
          box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
          @keyframes appear {
            0% {
              opacity: 0;
              transform: translateY(-20px);
            }
            100% {
              opacity: 1;
              transform: translateY(0px);
            }
          }
          .container_top {
            display: flex;
            justify-content: space-between;
            .container_infos {
              display: flex;
              align-items: center;
              gap: 10px;
              img {
                width: 40px;
                height: 40px;
                border-radius: 50%;
              }
              h3 {
                @include styleH("h5");
              }
              .container_date {
                .created {
                  .date {
                    @include styleP("small");
                  }
                }
                .modified {
                  .date {
                    @include styleP("tiny");
                  }
                }
              }
            }
            .container_btn {
              display: flex;
              justify-content: flex-end;
              gap: 8px;
              button {
                border: none;
                background: transparent;
                svg {
                  width: 15px;
                  height: 15px;
                  fill: none;
                  &.edit {
                    path {
                      stroke: $color_2;
                      stroke-width: 1.5;
                      stroke-linecap: round;
                      stroke-linejoin: round;
                    }
                    @include styleHover {
                      path {
                        stroke-width: 2.5;
                      }
                    }
                  }
                  &.delete {
                    path {
                      fill: $color_2;
                    }
                    @include styleHover {
                      path {
                        stroke: $color_2;
                      }
                    }
                  }
                }
                &:hover {
                  cursor: pointer;
                }
              }
            }
          }
          p {
            @include styleP("medium");
            word-wrap: break-word;
          }
          .modal_delete {
            position: absolute;
            left: 0;
            top: 0;
            display: flex;
            justify-content: center;
            width: 100%;
            height: 100%;
            background: $color_1;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 10px;
            .container_modal {
              display: flex;
              align-items: center;
              justify-content: center;
              flex-direction: column;
              gap: 20px;
              h4 {
                @include styleH("h6");
                text-align: center;
              }
              .container_btns {
                position: relative;
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 8px;
                button {
                  border-radius: 8px;
                  border: 1px solid $color_2;
                  background: $color_2;
                  color: $color_1;
                  font-family: $font_bold;
                  padding: 10px 15px;
                  @include styleHover {
                    cursor: pointer;
                    background: $color_1;
                    color: $color_2;
                    transition: all 0.2s ease;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
@media screen and (max-width: 80em) {
  .section_comments {
    padding: 20px 0 40px 0;
    .container {
      .container_title {
        margin-bottom: 24px;
      }
      .container_content {
        flex-direction: column-reverse;
        .container_form {
          width: 100%;
          position: relative;
          top: 0px;
          margin-top: 20px;
          .container_connexion {
            gap: 20px;
          }
        }
        .container_comment {
          .content {
            width: 100%;
            .container_top {
              .container_infos {
                flex-wrap: wrap;
              }
            }
          }
        }
      }
    }
  }
}
